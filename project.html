<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Study | UA Samshar</title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="project.css"> <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">
</head>
<body>

    <div class="nav-wrapper">
        <nav class="gallery-nav">
            <a href="works.html" class="brand-identity">
                <span class="brand-name">← BACK TO ARCHIVE</span>
            </a>
        </nav>
    </div>

    <main id="case-study-container">
        <div class="loading">Loading Case Study...</div>
    </main>

    <script>
        // 1. Get ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const projectId = parseInt(urlParams.get('id'));

        // 2. Fetch Data
        fetch('projects.json')
            .then(response => response.json())
            .then(data => {
                // 3. Find specific project
                const project = data.find(p => p.id === projectId);

                if (project) {
                    renderProject(project);
                } else {
                    document.getElementById('case-study-container').innerHTML = "<h1>Project not found.</h1>";
                }
            });

        // 4. Render HTML
        function renderProject(data) {
            const container = document.getElementById('case-study-container');
            
            // Generate Stats HTML
            let resultsHTML = '';
            data.results.forEach(stat => {
                resultsHTML += `<li class="stat-item"><span class="check">✓</span> ${stat}</li>`;
            });

            // Generate Gallery HTML
            let galleryHTML = '';
            data.gallery.forEach(img => {
                galleryHTML += `<div class="gallery-img"><img src="${img}"></div>`;
            });

            const html = `
                <header class="case-hero">
                    <div class="hero-bg" style="background-image: url('${data.heroImage}');"></div>
                    <div class="hero-overlay"></div>
                    <div class="container hero-content">
                        <div class="hero-meta">
                            <span class="tag">${data.company}</span>
                            <span class="tag yellow">${data.category}</span>
                        </div>
                        <h1 class="hero-title">${data.title}</h1>
                    </div>
                </header>

                <section class="section case-details">
                    <div class="container detail-grid">
                        
                        <div class="detail-left">
                            <h3 class="detail-heading">The Challenge</h3>
                            <p class="detail-text">${data.challenge}</p>
                            
                            <h3 class="detail-heading top-gap">Key Results</h3>
                            <ul class="results-list">
                                ${resultsHTML}
                            </ul>
                        </div>

                        <div class="detail-right">
                            <h3 class="detail-heading">The Strategic Solution</h3>
                            <p class="detail-text highlight-text">${data.solution}</p>
                        </div>
                    </div>
                </section>

                <section class="section gallery-section">
                    <div class="container">
                        <div class="image-grid">
                            ${galleryHTML}
                        </div>
                    </div>
                </section>

                <div class="next-project">
                    <a href="works.html" class="next-link">View Next Case Study →</a>
                </div>
            `;

            container.innerHTML = html;
        }
    </script>

</body>
</html>